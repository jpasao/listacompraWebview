{% extends 'base.html' %}

{% block content %}
<div class="w3-row w3-border w3-container w3-padding w3-margin">
    <div class="w3-threequarter w3-container w3-left-align">
        <div class="w3-section">
            <form method="GET">
                {% csrf_token %}
                {{ form.as_p }}
            </form>
        </div>
    </div>
    <div class="w3-quarter w3-container w3-right-align">
        <a class="w3-button w3-theme" style="margin-top: 5%" href="{% url 'ingredient_new' %}">AÃ±adir nuevo</a>
    </div>
</div>
<div class="w3-row w3-border w3-container w3-margin w3-padding-top-32">
    <table class="w3-table w3-striped w3-bordered w3-hoverable">
        <thead>
            <tr class="w3-theme">
                <th>Marcado</th>
                <th>Cantidad</th>
                <th>Nombre</th>
                <th>Comentarios</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for ingredient in ingredients %}
            <tr>
                <td>
                    <form method="POST" action="{% url 'ingredient_check' pk=ingredient.pk %}">
                        {% csrf_token %}
                        <input type="checkbox" name="ischecked" onclick="this.form.submit()" class="w3-check" id="id_ischecked" {% if ingredient.ischecked == '1' %} checked {% else %} '' {% endif %} >
                    </form>
                </td>
                <td>{{ ingredient.quantity }}</td>
                <td>{{ ingredient.name }}</td>
                <td>{{ ingredient.comment }}</td>
                <td>
                    <a href="{% url 'ingredient_edit' pk=ingredient.pk %}" class="w3-bar-item w3-button w3-hover-theme">Editar</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}